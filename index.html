<!DOCTYPE html>
{% autoescape true %}
<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

<link href="stylesheets/layout.css" rel="stylesheet" type="text/css" />

<!-- Optional theme -->
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

<!-- Latest compiled and minified JavaScript -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

<!-- validation plug-in -->
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.0/jquery.validate.js"></script>

<body>
	<div class="10px-empty">&nbsp;</div>
		<div class="container-fluid"> 
		
			<div class="row">
				<div class="well">
					<div class="col-md-12">
						<form id="userform" name="userform" role="form" method="get">
							<div class="form-group">
								<input 
									type="text" 
									class="form-control input-lg" 
									id="username" 
									name="username"
									placeholder="Username">
						</div>
					</form>
				</div>
			</div>
		</div>
		
		<div class="row">
			<div class="well">
				<div class="col-md-12">
					<a href="/account/0/1/" class="nav">Setup accounts</a></div>
				<div class="col-md-12">
					<a href="/account/1/1/" class="nav">Start 5 min follow-up</a></div>
				<div class="col-md-12">
					<a href="/account/2/1/" class="nav">Start 1 week follow-up</a></div>
				<div class="col-md-12">
					<a href="/report" >View data</a></div>
			</div>
		</div>
	</div>
	</body>
	
	<script type="text/javascript">

	/* Ensures that the username matches the password criteria */
	$.validator.addMethod("username", function(value,element) {
		var number = /\d+/;
		var letters = /[A-Za-z]+/;
		var end1 = /.+[rR]$/;
		return number.test(value) && number.test(value) && end1.test();
	}, "The username must contain letters and numbers and end with 'R' or 'UR'"
	);
	
	$(function() {	
		$("#userform").validate({
			rules:{
				username: "required",
			},
			messages:{
				username: "Please use the name that ends with 'R' or 'UR' :-)"
			}
		});
	});
	 
	

	/* Overrides default functionality onClick for the links */
	$('.nav').click(function(e){
		e.preventDefault();
		var new_url=$(this).attr('href');
		$("#userform").attr("action", new_url);
		$("#userform").submit();
	});
		
	</script>
		 
</html>
{% endautoescape %}